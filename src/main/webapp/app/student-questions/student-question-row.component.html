<div class="row mb-2 clickable" *ngIf="!isExpanded" (click)="isExpanded = !isExpanded">
    <div class="col-12">
        <div class="row">
            <div class="col overflow-parent">
                <h5 class="overflow-ellipsis">Q: {{studentQuestion.questionText}}</h5>
            </div>
            <div class="col-auto">
                <fa-icon class="mr-1"
                         *ngIf="isQuestionAuthor"
                         [ngbTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.editQuestion' | translate)"
                         container="body"
                         [icon]="'pencil-alt'"
                         (click)="$event.stopPropagation();initEdit()"></fa-icon>
                <jhi-confirm-icon *ngIf="isQuestionAuthor"
                                  (click)="$event.stopPropagation();"
                                  (confirmEvent)="initDelete()"
                                  [ngClass]="'mr-1'"
                                  [initialTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.deleteQuestion' | translate)"
                                  [confirmTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.confirmDeleteQuestion' | translate)"
                ></jhi-confirm-icon>
                <fa-icon [icon]="'angle-down'"></fa-icon>
            </div>
        </div>
        <div class="row">
            <div class="col-auto">
                <p>{{"arTeMiSApp.courseOverview.exerciseDetails.faq.answerCount" | translate: {count: studentQuestion.answers.length} }}</p>
            </div>
            <div class="col-auto">
                <h5>
                    <span class="badge badge-light"
                          *ngIf="isQuestionAuthor">{{"arTeMiSApp.courseOverview.exerciseDetails.faq.yourQuestion" | translate}}</span>
                </h5>
            </div>
        </div>
    </div>
</div>
<div class="row mb-2" *ngIf="isExpanded">
    <div class="col-12">
        <div class="row clickable" (click)="isExpanded = !isExpanded">
            <div class="col">
                <h5>Q: {{studentQuestion.questionText}}</h5>
            </div>
            <div class="col-auto">
                <fa-icon class="mr-1"
                         *ngIf="isQuestionAuthor"
                         [ngbTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.editQuestion' | translate)"
                         container="body"
                         [icon]="'pencil-alt'"
                         (click)="$event.stopPropagation();initEdit()"></fa-icon>
                <jhi-confirm-icon *ngIf="isQuestionAuthor"
                                  (click)="$event.stopPropagation();"
                                  (confirmEvent)="initDelete()"
                                  [ngClass]="'mr-1'"
                                  [initialTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.deleteQuestion' | translate)"
                                  [confirmTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.confirmDeleteQuestion' | translate)"
                ></jhi-confirm-icon>
                <fa-icon [icon]="'angle-up'"></fa-icon>
            </div>
        </div>
        <div class="row" *ngFor="let questionAnswer of studentQuestion.answers">
            <div class="col">
                <p>A: {{questionAnswer.answerText}}</p>
            </div>
            <div class="col-auto" *ngIf="questionAnswer.author.id === user.id">
                <fa-icon class="mr-1 clickable"
                         *ngIf="isQuestionAuthor"
                         [ngbTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.editAnswer' | translate)"
                         container="body"
                         [icon]="'pencil-alt'"
                         (click)="$event.stopPropagation();initEditAnswer(questionAnswer)"></fa-icon>
                <jhi-confirm-icon *ngIf="isQuestionAuthor"
                                  (click)="$event.stopPropagation();"
                                  (confirmEvent)="initDeleteAnswer(questionAnswer)"
                                  [ngClass]="'mr-1 clickable'"
                                  [initialTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.deleteAnswer' | translate)"
                                  [confirmTooltip]="('arTeMiSApp.courseOverview.exerciseDetails.faq.confirmDeleteAnswer' | translate)"
                ></jhi-confirm-icon>
            </div>
        </div>
        <div class="row" *ngIf="!studentQuestion.answers || studentQuestion.answers.length === 0">
            <div class="col">
                <p>{{"arTeMiSApp.courseOverview.exerciseDetails.faq.noAnswers" | translate}}</p>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <button class="btn btn-primary"
                        (click)="initAnswer()">{{"arTeMiSApp.courseOverview.exerciseDetails.faq.answerNow" | translate}}</button>
            </div>
        </div>
    </div>
</div>
