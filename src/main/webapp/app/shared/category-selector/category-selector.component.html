<tag-input
    #categoryInput
    [ngModel]="exerciseCategories"
    theme="bootstrap"
    class="form-control tag-input"
    name="categories"
    identifyBy="category"
    displayBy="category"
    [maxItems]="2"
    id="field_categories"
    [secondaryPlaceholder]="'artemisApp.exercise.tagPlaceholder' | translate"
    (onAdd)="onItemAdded($event)"
    (onRemove)="onItemRemove($event)"
>
    <!--
        [clearOnBlur]="true" 
        (focusout)="onItemAdded($event)"
    -->
    <tag-input-dropdown [focusFirstElement]="true" identifyBy="category" displayBy="category" [zIndex]="10000" [autocompleteItems]="uniqueCategories"></tag-input-dropdown>
    <ng-template let-item="item" let-index="index">
        <div class="custom-tag" [ngStyle]="{ backgroundColor: item.color }">
            <span class="category-name" (click)="openColorSelector($event, item)">
                {{ item.category }}
            </span>
            <span class="tag-options" (click)="openColorSelector($event, item)">&#8942;</span>
            <delete-icon class="delete" (click)="categoryInput.onRemoveRequested(item, index)"></delete-icon>
        </div>
    </ng-template>
</tag-input>
<jhi-color-selector [tagColors]="categoryColors" (selectedColor)="onSelectedColor($event)"></jhi-color-selector>
