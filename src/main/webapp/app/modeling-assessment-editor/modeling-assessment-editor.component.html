<div *ngIf="!conflicts; else conflictResolution" class="assessment-container">
    <h2 class="top-container">
        <div class="assessment-title row-container">
            Assessment
            <jhi-result *ngIf="result?.rated && result.participation" [participation]="result.participation"></jhi-result>
        </div>
        <jhi-alert></jhi-alert>
        <div class="control-container row-container">
            <button class="btn btn-primary" (click)="onSaveAssessment()" [disabled]="!assessmentsAreValid || !isAuthorized" [hidden]="result && result.rated">
                <fa-icon icon="save"></fa-icon>
                Save
            </button>
            <button class="btn btn-success" (click)="onSubmitAssessment()" [disabled]="!assessmentsAreValid || !isAuthorized" [hidden]="result && result.rated">
                Submit
            </button>
            <button class="btn btn-danger" (click)="onSubmitAssessment()" [disabled]="!assessmentsAreValid || !isAtLeastInstructor" [hidden]="!result || !result.rated">
                Override Assessment
            </button>
            <button class="btn btn-success" [disabled]="busy" [hidden]="!result || !result.rated" (click)="assessNextOptimal()">
                <fa-icon *ngIf="busy" icon="spinner" [spin]="true">&nbsp;</fa-icon>
                Next Submission
            </button>
            <div *ngIf="conflicts && conflicts.length > 0" class="custom-control custom-switch">
                <input type="checkbox" class="custom-control-input" id="customSwitches" [(ngModel)]="ignoreConflicts">
                <label class="custom-control-label" for="customSwitches">Ignore Conflict</label>
            </div>
        </div>
    </h2>
    <div class="editor-container">
        <jhi-modeling-assessment
            *ngIf="submission"
            [diagramType]="this.modelingExercise.diagramType"
            [maxScore]="modelingExercise.maxScore"
            [model]="model"
            [feedbacks]="result.feedbacks"
            [highlightedElementIds]="highlightedElementIds"
            (feedbackChanged)="onFeedbackChanged($event)"
        ></jhi-modeling-assessment>
        <jhi-assessment-instructions *ngIf="modelingExercise" [exercise]="modelingExercise" [collapsed]="false"></jhi-assessment-instructions>
    </div>
</div>
<!--<ng-template #conflictResolution>-->
    <!--<jhi-modeling-assessment-conflict [conflicts]="conflicts" [modelingExercise]="modelingExercise"></jhi-modeling-assessment-conflict>-->
<!--</ng-template>-->
