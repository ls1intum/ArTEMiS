<div class="plagiarism-inspector">
    <div class="plagiarism-header">
        <h3 class="plagiarism-page-title">{{ 'artemisApp.plagiarism.plagiarism-detection' | translate }}</h3>

        <div class="plagiarism-buttons">
            <button class="check-plagiarism btn btn-primary" (click)="checkPlagiarism()" [disabled]="detectionInProgress">
                <span jhiTranslate="artemisApp.textExercise.checkPlagiarism">Check Plagiarism</span>
            </button>

            <div ngbDropdown *ngIf="plagiarismResult">
                <button class="btn btn-secondary btn-block" id="download-plagiarism" ngbDropdownToggle>
                    <span>Download</span>
                </button>
                <div ngbDropdownMenu aria-labelledby="download-plagiarism">
                    <button type="button" (click)="downloadPlagiarismResultsJson()" ngbDropdownItem>JSON</button>
                    <button type="button" (click)="downloadPlagiarismResultsCsv()" ngbDropdownItem>CSV</button>
                </div>
            </div>
        </div>
    </div>

    <div class="plagiarism-body" *ngIf="plagiarismResult">
        <jhi-plagiarism-sidebar
            [comparisons]="plagiarismResult?.comparisons"
            (selectIndex)="selectComparisonAtIndex($event)"
            [activeIndex]="selectedComparisonIndex"
        ></jhi-plagiarism-sidebar>

        <jhi-plagiarism-details [comparison]="plagiarismResult?.comparisons[selectedComparisonIndex]" [exercise]="exercise"></jhi-plagiarism-details>
    </div>

    <div class="plagiarism-empty" *ngIf="!plagiarismResult">
        <div class="spinner-border text-primary" role="status" *ngIf="detectionInProgress">
            <span class="sr-only">Loading...</span>
        </div>

        <span class="plagiarism-empty-label" *ngIf="!detectionInProgress">
            {{ 'artemisApp.plagiarism.empty' | translate }}
        </span>
    </div>
</div>
