<div class="col-12 mt-4" *ngIf="!loading">
    <div class="alert alert-info" *ngIf="handled">
        {{ 'arTeMiSApp.textAssessment.complaintAlreadyHandled' | translate}} {{complaintResponse?.reviewer?.firstName}}
    </div>

    <div class="row">
        <div class="col-12 col-md-6">
            <h3>
                {{ 'arTeMiSApp.textAssessment.complaint' | translate}}
                <small *ngIf="handled">
                    <span *ngIf="complaint?.accepted" class="text-light bg-success small">
                        &nbsp;{{ 'arTeMiSApp.complaint.accepted' | translate}}&nbsp;
                    </span>
                    <span *ngIf="!complaint?.accepted" class="text-light bg-danger small">
                        &nbsp;{{ 'arTeMiSApp.complaint.rejected' | translate}}&nbsp;
                    </span>
                </small>
            </h3>
            <p>
                {{complaintText}}
            </p>
        </div>

        <div class="col-12 col-md-6">
            <h3>{{ 'arTeMiSApp.textAssessment.complaintResponse' | translate}}</h3>
            <textarea class="col-12 px-1" [(ngModel)]="complaintResponse.responseText" [readonly]="handled" [disabled]="handled"></textarea>
            <div *ngIf="!handled" class="row justify-content-end">
                <div class="col-12 col-lg-6">
                    <button class="btn btn-success btn-block" (click)="respondToComplaint(true)">
                        {{ 'arTeMiSApp.complaint.updateAndReply' | translate}}
                    </button>
                </div>
                <div class="col-12 col-lg-6">
                    <button class="btn btn-danger btn-block" (click)="respondToComplaint(false)">
                        {{ 'arTeMiSApp.complaint.rejectAndReply' | translate}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
